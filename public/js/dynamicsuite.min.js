class DynamicSuite{static call(e,t,a){fetch(`/dynamicsuite/api/${e}`,{method:"POST",body:JSON.stringify(t||[])}).then(e=>{if(e.ok)return e;throw new Error("A server error has occurred")}).then(e=>e.json()).then(e=>a(e),()=>a({status:"SERVER_ERROR",message:"A malformed response was returned",data:null})).catch(e=>{console.log(e),a({status:"SERVER_ERROR",message:"A malformed response was returned",data:null})})}}DynamicSuite.vm=new Vue({name:"DynamicSuite",el:"#dynamicsuite",data:()=>({has_session:!1,hide_overlay:!0,default_view:null,overlay_nav_tree:null,overlay_nav_header_text:null,overlay_nav_header_view:null,overlay_nav_footer_text:null,overlay_nav_footer_view:null,overlay_title:null,overlay_actions:null}),computed:{content_classes(){return{overlay:!this.hide_overlay}}},mounted(){if("object"==typeof window.dynamicsuite){for(const e of Object.keys(this._data))void 0!==window.dynamicsuite[e]&&(this[e]=window.dynamicsuite[e]);document.getElementById("dynamicsuite").style.display="flex",document.getElementById("ds-content").style.display="flex"}}});Vue.component("ds-overlay",{template:'<div id="ds-overlay"><header v-if="show_nav" class="interactive clip-text" @click="goto($root.overlay_nav_header_view)">{{$root.overlay_nav_header_text}}</header><div id="ds-nav-button" class="interactive button" @click="toggleNav"><i class="fas" :class="{\'fa-bars\': !show_nav, \'fa-caret-square-left\': show_nav}"></i></div><h1 id="ds-title" class="clip-text centered">{{$root.overlay_title}}</h1><div id="ds-actions-button" class="interactive button"><i class="fas fa-user"></i></div><div id="ds-nav" :class="nav_classes"><ul><li v-for="(super_link, super_path) in $root.overlay_nav_tree" :key="\'superlink\' + super_path"><span :class="{active: super_link.active, selected: selected_group === super_path}" @click="handleSuperlinkInteraction(super_path)"><i :class="super_link.icon"></i> <span>{{super_link.name}}</span> <i v-if="super_link[\'is_group\']" class="fas" :class="chevronClasses(super_path)"></i></span><ul v-if="selected_group === super_path"><li v-for="(sub_link, sub_path) in super_link[\'views\']" :key="\'sublink\' + sub_path" :class="{active: sub_link.active}" @click="goto(sub_path)"><i :class="sub_link.icon"></i> <span>{{sub_link.name}}</span></li></ul></li></ul><footer class="interactive clip-text centered" @click="goto($root.overlay_nav_footer_view)">{{$root.overlay_nav_footer_text}}</footer></div></div>',data:()=>({show_nav:!1,selected_group:null}),computed:{nav_classes(){return{show:this.show_nav}}},methods:{goto(e){document.location=e},toggleNav(){this.show_nav=!this.show_nav},chevronClasses(e){return{"fa-chevron-right":e!==this.selected_group,"fa-chevron-down":e===this.selected_group}},handleSuperlinkInteraction(e){e.startsWith("/")?this.goto(e):this.selected_group===e?this.selected_group=null:this.selected_group=e}},mounted(){const e=window.location.pathname.split("?")[0].split("#")[0],t="/"===e?this.$root.default_view:e;for(const e in this.$root.overlay_nav_tree)if(e.startsWith("/"))this.$root.overlay_nav_tree[e].active=e===t;else for(const s in this.$root.overlay_nav_tree[e].views)s===t&&(this.$root.overlay_nav_tree[e].active=!0,this.$root.overlay_nav_tree[e].views[s].active=!0,this.selected_group=e);document.getElementById("ds-content").addEventListener("click",()=>{this.show_nav=!1})}});