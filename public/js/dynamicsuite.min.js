class DynamicSuite{static call(e,t,a){fetch(`/dynamicsuite/api/${e}`,{method:"POST",body:JSON.stringify(t||[])}).then(e=>{if(e.ok)return e;throw new Error("A server error has occurred")}).then(e=>e.json()).then(e=>a(e),()=>a({status:"SERVER_ERROR",message:"A malformed response was returned",data:null})).catch(e=>{console.log(e),a({status:"SERVER_ERROR",message:"A malformed response was returned",data:null})})}}DynamicSuite.vm=new Vue({name:"DynamicSuite",el:"#dynamicsuite",data:()=>({has_session:!1,hide_overlay:!0,default_view:null,overlay_nav_tree:[],overlay_nav_header_text:null,overlay_nav_header_view:null,overlay_nav_footer_text:null,overlay_nav_footer_view:null,overlay_title:null,overlay_actions:[]}),mounted(){for(const e of Object.keys(this._data))window.dynamicsuite.hasOwnProperty(e)&&(this[e]=window.dynamicsuite[e]);const e=document.querySelectorAll('link[rel="preload"][as="style"]');for(let t=0;t<e.length;t++)e[t].rel="stylesheet";document.getElementById("dynamicsuite").style.display="flex"}});Vue.component("ds-overlay",{template:'<div class="ds-overlay"><header v-if="show_nav" class="nav-header interactive" @click="goto(overlay_nav_header_view)">{{overlay_nav_header_text}}</header><div class="button interactive" @click="toggleNav"><i :class="nav_button_classes"></i></div><h1 class="title">{{overlay_title}}</h1><div class="button interactive"><i class="fas fa-user"></i></div><div v-if="show_nav" class="nav"><div class="links"><div v-for="superlink in overlay_nav_tree" :key="superlink.key" class="link-group"><span :class="superlinkClasses(superlink)" @click="superlinkInteraction(superlink)"><i :class="superlink.icon"></i> <span>{{superlink.name}}</span> <i v-if="superlink.nav_group" :class="chevronClasses(superlink.nav_group)"></i></span><div v-if="superlink.nav_group === selected_group" class="sublinks"><span v-for="sublink in superlink.views" :key="sublink.key" :class="sublinkClasses(sublink)" @click="goto(sublink.path)"><i :class="sublink.icon"></i> <span>{{sublink.name}}</span></span></div></div></div><footer @click="goto(overlay_nav_footer_view)">{{overlay_nav_footer_text}}</footer></div></div>',props:{default_view:{type:null|String,default:null},overlay_nav_tree:{type:Array,default:()=>[]},overlay_nav_header_text:{type:null|String,default:null},overlay_nav_header_view:{type:null|String,default:null},overlay_nav_footer_text:{type:null|String,default:null},overlay_nav_footer_view:{type:null|String,default:null},overlay_title:{type:null|String,default:null},overlay_actions:{type:Array,default:()=>[]}},data:()=>({show_nav:!1,selected_group:null}),computed:{nav_button_classes(){return{fas:!0,"fa-bars":!this.show_nav,"fa-caret-square-left":this.show_nav}}},methods:{goto(e){e&&(document.location=e)},toggleNav(){this.show_nav=!this.show_nav},chevronClasses(e){return{fas:!0,"fa-chevron-right":e!==this.selected_group,"fa-chevron-down":e===this.selected_group}},superlinkClasses(e){return{superlink:!0,active:e.active,selected:this.selected_group===e.nav_group}},superlinkInteraction(e){e.hasOwnProperty("path")?this.goto(e.path):this.selected_group===e.nav_group?this.selected_group=null:this.selected_group=e.nav_group},sublinkClasses:e=>({sublink:!0,active:e.active})},mounted(){const e=window.location.pathname.split("?")[0].split("#")[0],t="/"===e?this.default_view:e;for(const e in this.overlay_nav_tree)if(this.overlay_nav_tree[e].hasOwnProperty("path")&&this.overlay_nav_tree[e].path.startsWith("/"))this.overlay_nav_tree[e].active=this.overlay_nav_tree[e].path===t;else for(const a in this.overlay_nav_tree[e].views)this.overlay_nav_tree[e].views[a].path===t&&(this.overlay_nav_tree[e].active=!0,this.overlay_nav_tree[e].views[a].active=!0,this.selected_group=this.overlay_nav_tree[e].nav_group);document.getElementById("ds-content").addEventListener("click",()=>{this.show_nav=!1})}});